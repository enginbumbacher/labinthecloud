'use strict';

define(function (require) {
  var Utils = require('core/util/utils');

  var Validations = {
    exists: function exists(val, spec) {
      return Validations._validate(spec, !Utils.isEmpty(val));
    },

    email: function email(val, spec) {
      // As per this article: https://davidcel.is/posts/stop-validating-email-addresses-with-regex/
      spec.re = /@/;
      return Validations.regex(val, spec);
    },

    regex: function regex(val, spec) {
      return Validations._validate(spec, spec.re.test(val));
    },

    lessThan: function lessThan(val, spec) {
      return Validations._validate(spec, val < spec.comparitor);
    },

    lt: function lt(val, spec) {
      return Validations.lessThan(val, spec);
    },

    lessThanEqual: function lessThanEqual(val, spec) {
      return Validations._validate(spec, val <= spec.comparitor);
    },

    lte: function lte(val, spec) {
      return Validations.lessThanEqual(val, spec);
    },

    greaterThan: function greaterThan(val, spec) {
      return Validations._validate(spec, val > spec.comparitor);
    },

    gt: function gt(val, spec) {
      return Validations.greaterThan(val, spec);
    },

    greaterThanEqual: function greaterThanEqual(val, spec) {
      return Validations._validate(spec, val >= spec.comparitor);
    },

    gte: function gte(val, spec) {
      return Validations.greaterThanEqual(val, spec);
    },

    minLength: function minLength(val, spec) {
      return Validations._validate(spec, val.length >= spec.length);
    },

    maxLength: function maxLength(val, spec) {
      return Validations._validate(spec, val.length <= spec.length);
    },

    numeric: function numeric(val, spec) {
      return Validations._validate(spec, Utils.isNumeric(val));
    },

    custom: function custom(val, spec) {
      return spec.fn(val, spec).then(function (isValid) {
        return Validations._validate(spec, isValid);
      });
    },

    _validate: function _validate(spec, isValid) {
      return Promise.resolve({
        isValid: isValid,
        error: isValid ? null : spec.errorMessage
      });
    }
  };
  return Validations;
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS9jb3JlL3V0aWwvdmFsaWRhdGlvbi5qcyJdLCJuYW1lcyI6WyJkZWZpbmUiLCJyZXF1aXJlIiwiVXRpbHMiLCJWYWxpZGF0aW9ucyIsImV4aXN0cyIsInZhbCIsInNwZWMiLCJfdmFsaWRhdGUiLCJpc0VtcHR5IiwiZW1haWwiLCJyZSIsInJlZ2V4IiwidGVzdCIsImxlc3NUaGFuIiwiY29tcGFyaXRvciIsImx0IiwibGVzc1RoYW5FcXVhbCIsImx0ZSIsImdyZWF0ZXJUaGFuIiwiZ3QiLCJncmVhdGVyVGhhbkVxdWFsIiwiZ3RlIiwibWluTGVuZ3RoIiwibGVuZ3RoIiwibWF4TGVuZ3RoIiwibnVtZXJpYyIsImlzTnVtZXJpYyIsImN1c3RvbSIsImZuIiwidGhlbiIsImlzVmFsaWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsImVycm9yIiwiZXJyb3JNZXNzYWdlIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxPQUFPLFVBQUNDLE9BQUQsRUFBYTtBQUNsQixNQUFNQyxRQUFRRCxRQUFRLGlCQUFSLENBQWQ7O0FBRUEsTUFBTUUsY0FBYztBQUNsQkMsWUFBUSxnQkFBQ0MsR0FBRCxFQUFNQyxJQUFOO0FBQUEsYUFBZUgsWUFBWUksU0FBWixDQUFzQkQsSUFBdEIsRUFBNEIsQ0FBQ0osTUFBTU0sT0FBTixDQUFjSCxHQUFkLENBQTdCLENBQWY7QUFBQSxLQURVOztBQUdsQkksV0FBTyxlQUFDSixHQUFELEVBQU1DLElBQU4sRUFBZTtBQUNwQjtBQUNBQSxXQUFLSSxFQUFMLEdBQVUsR0FBVjtBQUNBLGFBQU9QLFlBQVlRLEtBQVosQ0FBa0JOLEdBQWxCLEVBQXVCQyxJQUF2QixDQUFQO0FBQ0QsS0FQaUI7O0FBU2xCSyxXQUFPLGVBQUNOLEdBQUQsRUFBTUMsSUFBTixFQUFlO0FBQ3BCLGFBQU9ILFlBQVlJLFNBQVosQ0FBc0JELElBQXRCLEVBQTRCQSxLQUFLSSxFQUFMLENBQVFFLElBQVIsQ0FBYVAsR0FBYixDQUE1QixDQUFQO0FBQ0QsS0FYaUI7O0FBYWxCUSxjQUFVLGtCQUFDUixHQUFELEVBQU1DLElBQU4sRUFBZTtBQUN2QixhQUFPSCxZQUFZSSxTQUFaLENBQXNCRCxJQUF0QixFQUE0QkQsTUFBTUMsS0FBS1EsVUFBdkMsQ0FBUDtBQUNELEtBZmlCOztBQWlCbEJDLFFBQUksWUFBQ1YsR0FBRCxFQUFNQyxJQUFOLEVBQWU7QUFDakIsYUFBT0gsWUFBWVUsUUFBWixDQUFxQlIsR0FBckIsRUFBMEJDLElBQTFCLENBQVA7QUFDRCxLQW5CaUI7O0FBcUJsQlUsbUJBQWUsdUJBQUNYLEdBQUQsRUFBTUMsSUFBTixFQUFlO0FBQzVCLGFBQU9ILFlBQVlJLFNBQVosQ0FBc0JELElBQXRCLEVBQTRCRCxPQUFPQyxLQUFLUSxVQUF4QyxDQUFQO0FBQ0QsS0F2QmlCOztBQXlCbEJHLFNBQUssYUFBQ1osR0FBRCxFQUFNQyxJQUFOLEVBQWU7QUFDbEIsYUFBT0gsWUFBWWEsYUFBWixDQUEwQlgsR0FBMUIsRUFBK0JDLElBQS9CLENBQVA7QUFDRCxLQTNCaUI7O0FBNkJsQlksaUJBQWEscUJBQUNiLEdBQUQsRUFBTUMsSUFBTixFQUFlO0FBQzFCLGFBQU9ILFlBQVlJLFNBQVosQ0FBc0JELElBQXRCLEVBQTRCRCxNQUFNQyxLQUFLUSxVQUF2QyxDQUFQO0FBQ0QsS0EvQmlCOztBQWlDbEJLLFFBQUksWUFBQ2QsR0FBRCxFQUFNQyxJQUFOLEVBQWU7QUFDakIsYUFBT0gsWUFBWWUsV0FBWixDQUF3QmIsR0FBeEIsRUFBNkJDLElBQTdCLENBQVA7QUFDRCxLQW5DaUI7O0FBcUNsQmMsc0JBQWtCLDBCQUFDZixHQUFELEVBQU1DLElBQU4sRUFBZTtBQUMvQixhQUFPSCxZQUFZSSxTQUFaLENBQXNCRCxJQUF0QixFQUE0QkQsT0FBT0MsS0FBS1EsVUFBeEMsQ0FBUDtBQUNELEtBdkNpQjs7QUF5Q2xCTyxTQUFLLGFBQUNoQixHQUFELEVBQU1DLElBQU4sRUFBZTtBQUNsQixhQUFPSCxZQUFZaUIsZ0JBQVosQ0FBNkJmLEdBQTdCLEVBQWtDQyxJQUFsQyxDQUFQO0FBQ0QsS0EzQ2lCOztBQTZDbEJnQixlQUFXLG1CQUFDakIsR0FBRCxFQUFNQyxJQUFOLEVBQWU7QUFDeEIsYUFBT0gsWUFBWUksU0FBWixDQUFzQkQsSUFBdEIsRUFBNEJELElBQUlrQixNQUFKLElBQWNqQixLQUFLaUIsTUFBL0MsQ0FBUDtBQUNELEtBL0NpQjs7QUFpRGxCQyxlQUFXLG1CQUFDbkIsR0FBRCxFQUFNQyxJQUFOLEVBQWU7QUFDeEIsYUFBT0gsWUFBWUksU0FBWixDQUFzQkQsSUFBdEIsRUFBNEJELElBQUlrQixNQUFKLElBQWNqQixLQUFLaUIsTUFBL0MsQ0FBUDtBQUNELEtBbkRpQjs7QUFxRGxCRSxhQUFTLGlCQUFDcEIsR0FBRCxFQUFNQyxJQUFOLEVBQWU7QUFDdEIsYUFBT0gsWUFBWUksU0FBWixDQUFzQkQsSUFBdEIsRUFBNEJKLE1BQU13QixTQUFOLENBQWdCckIsR0FBaEIsQ0FBNUIsQ0FBUDtBQUNELEtBdkRpQjs7QUF5RGxCc0IsWUFBUSxnQkFBQ3RCLEdBQUQsRUFBTUMsSUFBTixFQUFlO0FBQ3JCLGFBQU9BLEtBQUtzQixFQUFMLENBQVF2QixHQUFSLEVBQWFDLElBQWIsRUFDSnVCLElBREksQ0FDQyxVQUFDQyxPQUFELEVBQWE7QUFDakIsZUFBTzNCLFlBQVlJLFNBQVosQ0FBc0JELElBQXRCLEVBQTRCd0IsT0FBNUIsQ0FBUDtBQUNELE9BSEksQ0FBUDtBQUlELEtBOURpQjs7QUFnRWxCdkIsZUFBVyxtQkFBQ0QsSUFBRCxFQUFPd0IsT0FBUCxFQUFtQjtBQUM1QixhQUFPQyxRQUFRQyxPQUFSLENBQWdCO0FBQ3JCRixpQkFBU0EsT0FEWTtBQUVyQkcsZUFBT0gsVUFBVSxJQUFWLEdBQWlCeEIsS0FBSzRCO0FBRlIsT0FBaEIsQ0FBUDtBQUlEO0FBckVpQixHQUFwQjtBQXVFQSxTQUFPL0IsV0FBUDtBQUNELENBM0VEIiwiZmlsZSI6Im1vZHVsZS9jb3JlL3V0aWwvdmFsaWRhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImRlZmluZSgocmVxdWlyZSkgPT4ge1xuICBjb25zdCBVdGlscyA9IHJlcXVpcmUoJ2NvcmUvdXRpbC91dGlscycpO1xuXG4gIGNvbnN0IFZhbGlkYXRpb25zID0ge1xuICAgIGV4aXN0czogKHZhbCwgc3BlYykgPT4gVmFsaWRhdGlvbnMuX3ZhbGlkYXRlKHNwZWMsICFVdGlscy5pc0VtcHR5KHZhbCkpLFxuXG4gICAgZW1haWw6ICh2YWwsIHNwZWMpID0+IHtcbiAgICAgIC8vIEFzIHBlciB0aGlzIGFydGljbGU6IGh0dHBzOi8vZGF2aWRjZWwuaXMvcG9zdHMvc3RvcC12YWxpZGF0aW5nLWVtYWlsLWFkZHJlc3Nlcy13aXRoLXJlZ2V4L1xuICAgICAgc3BlYy5yZSA9IC9ALztcbiAgICAgIHJldHVybiBWYWxpZGF0aW9ucy5yZWdleCh2YWwsIHNwZWMpO1xuICAgIH0sXG5cbiAgICByZWdleDogKHZhbCwgc3BlYykgPT4ge1xuICAgICAgcmV0dXJuIFZhbGlkYXRpb25zLl92YWxpZGF0ZShzcGVjLCBzcGVjLnJlLnRlc3QodmFsKSlcbiAgICB9LFxuXG4gICAgbGVzc1RoYW46ICh2YWwsIHNwZWMpID0+IHtcbiAgICAgIHJldHVybiBWYWxpZGF0aW9ucy5fdmFsaWRhdGUoc3BlYywgdmFsIDwgc3BlYy5jb21wYXJpdG9yKVxuICAgIH0sXG5cbiAgICBsdDogKHZhbCwgc3BlYykgPT4ge1xuICAgICAgcmV0dXJuIFZhbGlkYXRpb25zLmxlc3NUaGFuKHZhbCwgc3BlYylcbiAgICB9LFxuXG4gICAgbGVzc1RoYW5FcXVhbDogKHZhbCwgc3BlYykgPT4ge1xuICAgICAgcmV0dXJuIFZhbGlkYXRpb25zLl92YWxpZGF0ZShzcGVjLCB2YWwgPD0gc3BlYy5jb21wYXJpdG9yKVxuICAgIH0sXG5cbiAgICBsdGU6ICh2YWwsIHNwZWMpID0+IHtcbiAgICAgIHJldHVybiBWYWxpZGF0aW9ucy5sZXNzVGhhbkVxdWFsKHZhbCwgc3BlYylcbiAgICB9LFxuXG4gICAgZ3JlYXRlclRoYW46ICh2YWwsIHNwZWMpID0+IHtcbiAgICAgIHJldHVybiBWYWxpZGF0aW9ucy5fdmFsaWRhdGUoc3BlYywgdmFsID4gc3BlYy5jb21wYXJpdG9yKVxuICAgIH0sXG5cbiAgICBndDogKHZhbCwgc3BlYykgPT4ge1xuICAgICAgcmV0dXJuIFZhbGlkYXRpb25zLmdyZWF0ZXJUaGFuKHZhbCwgc3BlYylcbiAgICB9LFxuXG4gICAgZ3JlYXRlclRoYW5FcXVhbDogKHZhbCwgc3BlYykgPT4ge1xuICAgICAgcmV0dXJuIFZhbGlkYXRpb25zLl92YWxpZGF0ZShzcGVjLCB2YWwgPj0gc3BlYy5jb21wYXJpdG9yKVxuICAgIH0sXG5cbiAgICBndGU6ICh2YWwsIHNwZWMpID0+IHtcbiAgICAgIHJldHVybiBWYWxpZGF0aW9ucy5ncmVhdGVyVGhhbkVxdWFsKHZhbCwgc3BlYylcbiAgICB9LFxuXG4gICAgbWluTGVuZ3RoOiAodmFsLCBzcGVjKSA9PiB7XG4gICAgICByZXR1cm4gVmFsaWRhdGlvbnMuX3ZhbGlkYXRlKHNwZWMsIHZhbC5sZW5ndGggPj0gc3BlYy5sZW5ndGgpXG4gICAgfSxcblxuICAgIG1heExlbmd0aDogKHZhbCwgc3BlYykgPT4ge1xuICAgICAgcmV0dXJuIFZhbGlkYXRpb25zLl92YWxpZGF0ZShzcGVjLCB2YWwubGVuZ3RoIDw9IHNwZWMubGVuZ3RoKVxuICAgIH0sXG5cbiAgICBudW1lcmljOiAodmFsLCBzcGVjKSA9PiB7XG4gICAgICByZXR1cm4gVmFsaWRhdGlvbnMuX3ZhbGlkYXRlKHNwZWMsIFV0aWxzLmlzTnVtZXJpYyh2YWwpKVxuICAgIH0sXG5cbiAgICBjdXN0b206ICh2YWwsIHNwZWMpID0+IHtcbiAgICAgIHJldHVybiBzcGVjLmZuKHZhbCwgc3BlYylcbiAgICAgICAgLnRoZW4oKGlzVmFsaWQpID0+IHtcbiAgICAgICAgICByZXR1cm4gVmFsaWRhdGlvbnMuX3ZhbGlkYXRlKHNwZWMsIGlzVmFsaWQpXG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfdmFsaWRhdGU6IChzcGVjLCBpc1ZhbGlkKSA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgaXNWYWxpZDogaXNWYWxpZCxcbiAgICAgICAgZXJyb3I6IGlzVmFsaWQgPyBudWxsIDogc3BlYy5lcnJvck1lc3NhZ2VcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIHJldHVybiBWYWxpZGF0aW9ucztcbn0pIl19
